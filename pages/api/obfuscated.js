(function(_0x12cd85,_0x7a420c){const _0x55deea=_0x2c43,_0x1c4f50=_0x12cd85();while(!![]){try{const _0x443266=-parseInt(_0x55deea(0x138))/0x1*(parseInt(_0x55deea(0x12c))/0x2)+parseInt(_0x55deea(0x12f))/0x3+parseInt(_0x55deea(0x128))/0x4+parseInt(_0x55deea(0x126))/0x5+parseInt(_0x55deea(0x11e))/0x6*(parseInt(_0x55deea(0x133))/0x7)+parseInt(_0x55deea(0x134))/0x8+-parseInt(_0x55deea(0x11c))/0x9;if(_0x443266===_0x7a420c)break;else _0x1c4f50['push'](_0x1c4f50['shift']());}catch(_0x5d3da3){_0x1c4f50['push'](_0x1c4f50['shift']());}}}(_0x3ce8,0xd8401));function _0x2c43(_0x5e6b2a,_0x55079b){const _0x3ce82a=_0x3ce8();return _0x2c43=function(_0x2c434f,_0x2a5076){_0x2c434f=_0x2c434f-0x10d;let _0x15e246=_0x3ce82a[_0x2c434f];return _0x15e246;},_0x2c43(_0x5e6b2a,_0x55079b);}function _0x3ce8(){const _0x52c60e=['11626904slCdLA','status','domain','\x20MB','7dhrDDj','method','errors','assigned','toLowerCase','npm\x20start','npm','toString','json','Egg\x20tidak\x20ditemukan','find','application/json','data','Node\x20tidak\x20ditemukan','/api/application/users','Bearer\x20','/api/application/servers','32557680RhaUbM','hex','6JfJorA','nodeName','name','/api/application/nodes/','POST','ghcr.io/parkervcp/yolks:nodejs_18','Terjadi\x20error','Semua\x20field\x20wajib\x20diisi','4480450ZnPoZP','\x20Server','5060716PRshEA','eggName','randomBytes','stringify','9932tRYgjd','nestName','Method\x20not\x20allowed','797961ENzEjk','/api/application/nests','attributes','/allocations','4601968xNArIS'];_0x3ce8=function(){return _0x52c60e;};return _0x3ce8();}import _0x1f0aa5 from'crypto';import _0x355d4c from'../../../config.js';export default async function handler(_0x1d72c7,_0x3915af){const _0x121cc5=_0x2c43;if(_0x1d72c7[_0x121cc5(0x139)]!==_0x121cc5(0x122))return _0x3915af['status'](0x195)[_0x121cc5(0x113)]({'error':_0x121cc5(0x12e)});const {username:_0x2fa638,ram:_0x3ba28f,cpu:_0x51a4b1}=_0x1d72c7['body'];if(!_0x2fa638||!_0x3ba28f||!_0x51a4b1)return _0x3915af[_0x121cc5(0x135)](0x190)['json']({'error':_0x121cc5(0x125)});const _0x43ad9c=_0x355d4c[_0x121cc5(0x136)],_0xf0344f=_0x355d4c['apikey'],_0x499e83=_0x355d4c[_0x121cc5(0x11f)][_0x121cc5(0x10f)](),_0x2a25ed=_0x355d4c[_0x121cc5(0x12d)][_0x121cc5(0x10f)](),_0x1f2ee5=_0x355d4c[_0x121cc5(0x129)][_0x121cc5(0x10f)](),_0x21ffe3=_0x1f0aa5[_0x121cc5(0x12a)](0x3)[_0x121cc5(0x112)](_0x121cc5(0x11d)),_0x391e18=parseInt(_0x3ba28f),_0x1f1339=parseInt(_0x51a4b1),_0x4a4f8d=_0x391e18,_0x3ec1f4=_0x2fa638[_0x121cc5(0x10f)](),_0xb99240={'Authorization':_0x121cc5(0x11a)+_0xf0344f,'Accept':_0x121cc5(0x116),'Content-Type':_0x121cc5(0x116)};try{const _0x32d946=await fetch(_0x43ad9c+'/api/application/nodes',{'headers':_0xb99240}),_0xc85c9d=await _0x32d946[_0x121cc5(0x113)](),_0x49c4dc=_0xc85c9d[_0x121cc5(0x117)][_0x121cc5(0x115)](_0x2d0ee5=>_0x2d0ee5[_0x121cc5(0x131)][_0x121cc5(0x120)]['toLowerCase']()===_0x499e83);if(!_0x49c4dc)return _0x3915af['status'](0x194)['json']({'error':_0x121cc5(0x118)});const _0x44be6f=_0x49c4dc[_0x121cc5(0x131)]['id'],_0xf29827=await fetch(_0x43ad9c+_0x121cc5(0x121)+_0x44be6f+_0x121cc5(0x132),{'headers':_0xb99240}),_0x428bd6=await _0xf29827[_0x121cc5(0x113)](),_0x74237=_0x428bd6['data'][_0x121cc5(0x115)](_0x43ee09=>!_0x43ee09[_0x121cc5(0x131)][_0x121cc5(0x10e)]);if(!_0x74237)return _0x3915af['status'](0x194)['json']({'error':'Allocation\x20kosong\x20tidak\x20tersedia'});const _0x16f8d4=_0x74237[_0x121cc5(0x131)]['id'],_0x4a0863=await fetch(_0x43ad9c+_0x121cc5(0x130),{'headers':_0xb99240}),_0x12a313=await _0x4a0863[_0x121cc5(0x113)](),_0x3d8fce=_0x12a313[_0x121cc5(0x117)][_0x121cc5(0x115)](_0x3f4602=>_0x3f4602[_0x121cc5(0x131)][_0x121cc5(0x120)][_0x121cc5(0x10f)]()===_0x2a25ed);if(!_0x3d8fce)return _0x3915af['status'](0x194)['json']({'error':'Nest\x20tidak\x20ditemukan'});const _0x140b5d=_0x3d8fce['attributes']['id'],_0x55936f=await fetch(_0x43ad9c+'/api/application/nests/'+_0x140b5d+'/eggs',{'headers':_0xb99240}),_0x2498f8=await _0x55936f[_0x121cc5(0x113)](),_0x2aaabd=_0x2498f8[_0x121cc5(0x117)]['find'](_0x408df4=>_0x408df4[_0x121cc5(0x131)][_0x121cc5(0x120)][_0x121cc5(0x10f)]()===_0x1f2ee5);if(!_0x2aaabd)return _0x3915af[_0x121cc5(0x135)](0x194)[_0x121cc5(0x113)]({'error':_0x121cc5(0x114)});const _0x519309=_0x2aaabd[_0x121cc5(0x131)]['id'],_0x4a47d5=_0x2aaabd[_0x121cc5(0x131)]['startup'],_0x2dd321=await fetch(_0x43ad9c+_0x121cc5(0x119),{'method':'POST','headers':_0xb99240,'body':JSON['stringify']({'email':_0x3ec1f4+'@gmail.com','username':_0x3ec1f4,'first_name':_0x3ec1f4+_0x121cc5(0x127),'last_name':'Bot','language':'en','password':_0x21ffe3})}),_0x1e2e95=await _0x2dd321[_0x121cc5(0x113)]();if(_0x1e2e95[_0x121cc5(0x10d)])return _0x3915af[_0x121cc5(0x135)](0x190)[_0x121cc5(0x113)]({'error':_0x1e2e95[_0x121cc5(0x10d)][0x0]});const _0x58d4eb=_0x1e2e95['attributes']['id'],_0x25b72d=await fetch(_0x43ad9c+_0x121cc5(0x11b),{'method':_0x121cc5(0x122),'headers':_0xb99240,'body':JSON[_0x121cc5(0x12b)]({'name':_0x3ec1f4+_0x121cc5(0x127),'user':_0x58d4eb,'egg':_0x519309,'nest':_0x140b5d,'startup':_0x4a47d5,'docker_image':_0x121cc5(0x123),'environment':{'INST':_0x121cc5(0x111),'USER_UPLOAD':'0','AUTO_UPDATE':'0','CMD_RUN':_0x121cc5(0x110)},'limits':{'memory':_0x391e18,'swap':0x0,'disk':_0x4a4f8d,'io':0x1f4,'cpu':_0x1f1339},'feature_limits':{'databases':0x2,'backups':0x2,'allocations':0x1},'deploy':{'locations':[_0x44be6f],'dedicated_ip':![],'port_range':[]},'allocation':_0x16f8d4})}),_0x2e9823=await _0x25b72d[_0x121cc5(0x113)]();if(_0x2e9823[_0x121cc5(0x10d)])return _0x3915af['status'](0x190)[_0x121cc5(0x113)]({'error':_0x2e9823[_0x121cc5(0x10d)][0x0]});_0x3915af[_0x121cc5(0x135)](0xc8)[_0x121cc5(0x113)]({'success':!![],'username':_0x3ec1f4,'password':_0x21ffe3,'ram':_0x391e18+_0x121cc5(0x137),'cpu':_0x1f1339+'%','disk':_0x4a4f8d+'\x20MB','panel':_0x43ad9c});}catch(_0x57888c){_0x3915af[_0x121cc5(0x135)](0x1f4)[_0x121cc5(0x113)]({'error':_0x121cc5(0x124),'detail':_0x57888c['message']});}}