(function(_0x2862b0,_0x356452){const _0x110169=_0x67e7,_0xb9d4cb=_0x2862b0();while(!![]){try{const _0x296fc1=parseInt(_0x110169(0x134))/0x1+parseInt(_0x110169(0x129))/0x2*(parseInt(_0x110169(0x114))/0x3)+parseInt(_0x110169(0x123))/0x4+-parseInt(_0x110169(0x10d))/0x5*(-parseInt(_0x110169(0x115))/0x6)+parseInt(_0x110169(0x121))/0x7+parseInt(_0x110169(0x13b))/0x8*(parseInt(_0x110169(0x12f))/0x9)+-parseInt(_0x110169(0x130))/0xa;if(_0x296fc1===_0x356452)break;else _0xb9d4cb['push'](_0xb9d4cb['shift']());}catch(_0x29c437){_0xb9d4cb['push'](_0xb9d4cb['shift']());}}}(_0x1e07,0xba243));import _0x4cbf9e from'crypto';import _0x331fcb from'fs';function _0x67e7(_0x4a634d,_0x383758){const _0x1e07f9=_0x1e07();return _0x67e7=function(_0x67e7bf,_0x93a6d4){_0x67e7bf=_0x67e7bf-0x10b;let _0x2f64f8=_0x1e07f9[_0x67e7bf];return _0x2f64f8;},_0x67e7(_0x4a634d,_0x383758);}import _0x5d6452 from'path';function _0x1e07(){const _0x3f9986=['❌\x20TERJADI\x20ERROR:','/allocations','message','40EBVIRS','/api/application/servers','toString','Nest\x20tidak\x20ditemukan','\x20Server','startup','Bearer\x20','31785hdcjfz','413724uvpbwE','writeFileSync','/api/application/nodes','find','data','application/json','POST','json','status','utf-8','errors','assigned','10022873qrDmXN','push','5117912wkvwuj','name','/api/application/nodes/','stringify','body','hex','76gsyAAM','Node\x20tidak\x20ditemukan','/api/application/nests','randomBytes','resolve','existsSync','63mFpPun','52071070dwKFVp','npm','readFileSync','Bot','887008IlhjLI','Semua\x20field\x20wajib\x20diisi','./database.json','❌\x20ERROR\x20BUAT\x20USER:','toLowerCase','npm\x20start','Method\x20Not\x20Allowed','1619400NKSpuL','❌\x20ERROR\x20BUAT\x20SERVER:','Allocation\x20kosong\x20tidak\x20tersedia','attributes'];_0x1e07=function(){return _0x3f9986;};return _0x1e07();}import _0x5bcda8 from'../../config.js';export default async function handler(_0x2e8b9a,_0x55bf30){const _0x1dd5c4=_0x67e7;if(_0x2e8b9a['method']!==_0x1dd5c4(0x11b))return _0x55bf30[_0x1dd5c4(0x11d)](0x195)[_0x1dd5c4(0x11c)]({'error':_0x1dd5c4(0x13a)});const {username:_0x3da269,ram:_0x195639,cpu:_0x5164b8}=_0x2e8b9a[_0x1dd5c4(0x127)];if(!_0x3da269||!_0x195639||!_0x5164b8)return _0x55bf30[_0x1dd5c4(0x11d)](0x190)[_0x1dd5c4(0x11c)]({'error':_0x1dd5c4(0x135)});const {domain:_0x5cb43e,apikey:_0x4071a9,nodeName:_0x333c7c,nestName:_0x3d0f7d,eggName:_0xea0b6b}=_0x5bcda8,_0xea2684=_0x4cbf9e[_0x1dd5c4(0x12c)](0x3)[_0x1dd5c4(0x10f)](_0x1dd5c4(0x128)),_0x1181da=parseInt(_0x195639),_0x5b5d39=parseInt(_0x5164b8),_0x2a4ed1=_0x1181da,_0x347e5c=_0x3da269[_0x1dd5c4(0x138)](),_0x445076={'Authorization':_0x1dd5c4(0x113)+_0x4071a9,'Accept':'application/json','Content-Type':_0x1dd5c4(0x11a)};try{const _0x375944=await fetch(_0x5cb43e+_0x1dd5c4(0x117),{'headers':_0x445076}),_0x3f22a2=await _0x375944['json'](),_0x57d8c4=_0x3f22a2['data'][_0x1dd5c4(0x118)](_0x1de692=>_0x1de692[_0x1dd5c4(0x13e)][_0x1dd5c4(0x124)][_0x1dd5c4(0x138)]()===_0x333c7c[_0x1dd5c4(0x138)]());if(!_0x57d8c4)return _0x55bf30[_0x1dd5c4(0x11d)](0x194)[_0x1dd5c4(0x11c)]({'error':_0x1dd5c4(0x12a)});const _0x230d62=_0x57d8c4[_0x1dd5c4(0x13e)]['id'],_0x4d422b=await fetch(_0x5cb43e+_0x1dd5c4(0x125)+_0x230d62+_0x1dd5c4(0x10b),{'headers':_0x445076}),_0xb16fee=await _0x4d422b[_0x1dd5c4(0x11c)](),_0x13a710=_0xb16fee[_0x1dd5c4(0x119)]['find'](_0x26bb9d=>!_0x26bb9d['attributes'][_0x1dd5c4(0x120)]);if(!_0x13a710)return _0x55bf30[_0x1dd5c4(0x11d)](0x194)[_0x1dd5c4(0x11c)]({'error':_0x1dd5c4(0x13d)});const _0x27383c=_0x13a710[_0x1dd5c4(0x13e)]['id'],_0x28dade=await fetch(_0x5cb43e+_0x1dd5c4(0x12b),{'headers':_0x445076}),_0x1bf372=await _0x28dade[_0x1dd5c4(0x11c)](),_0x5f0be0=_0x1bf372['data'][_0x1dd5c4(0x118)](_0x37550c=>_0x37550c[_0x1dd5c4(0x13e)]['name']['toLowerCase']()===_0x3d0f7d[_0x1dd5c4(0x138)]());if(!_0x5f0be0)return _0x55bf30[_0x1dd5c4(0x11d)](0x194)['json']({'error':_0x1dd5c4(0x110)});const _0x120f3f=_0x5f0be0['attributes']['id'],_0xe4320a=await fetch(_0x5cb43e+'/api/application/nests/'+_0x120f3f+'/eggs',{'headers':_0x445076}),_0x24619f=await _0xe4320a[_0x1dd5c4(0x11c)](),_0x1b4c69=_0x24619f[_0x1dd5c4(0x119)][_0x1dd5c4(0x118)](_0x545093=>_0x545093[_0x1dd5c4(0x13e)]['name'][_0x1dd5c4(0x138)]()===_0xea0b6b[_0x1dd5c4(0x138)]());if(!_0x1b4c69)return _0x55bf30[_0x1dd5c4(0x11d)](0x194)[_0x1dd5c4(0x11c)]({'error':'Egg\x20tidak\x20ditemukan'});const _0x140b04=_0x1b4c69['attributes']['id'],_0x526868=_0x1b4c69[_0x1dd5c4(0x13e)][_0x1dd5c4(0x112)],_0x3a4dc4=await fetch(_0x5cb43e+'/api/application/users',{'method':_0x1dd5c4(0x11b),'headers':_0x445076,'body':JSON[_0x1dd5c4(0x126)]({'email':_0x347e5c+'@gmail.com','username':_0x347e5c,'first_name':_0x347e5c+_0x1dd5c4(0x111),'last_name':_0x1dd5c4(0x133),'language':'en','password':_0xea2684})}),_0x1f2a09=await _0x3a4dc4[_0x1dd5c4(0x11c)]();if(_0x1f2a09[_0x1dd5c4(0x11f)])return _0x55bf30[_0x1dd5c4(0x11d)](0x190)[_0x1dd5c4(0x11c)]({'error':_0x1dd5c4(0x137),'detail':_0x1f2a09[_0x1dd5c4(0x11f)][0x0]});const _0x314351=_0x1f2a09[_0x1dd5c4(0x13e)]['id'],_0xc2696a=await fetch(_0x5cb43e+_0x1dd5c4(0x10e),{'method':_0x1dd5c4(0x11b),'headers':_0x445076,'body':JSON[_0x1dd5c4(0x126)]({'name':_0x347e5c+'\x20Server','user':_0x314351,'egg':_0x140b04,'nest':_0x120f3f,'startup':_0x526868,'docker_image':'ghcr.io/parkervcp/yolks:nodejs_18','environment':{'INST':_0x1dd5c4(0x131),'USER_UPLOAD':'0','AUTO_UPDATE':'0','CMD_RUN':_0x1dd5c4(0x139)},'limits':{'memory':_0x1181da,'swap':0x0,'disk':_0x2a4ed1,'io':0x1f4,'cpu':_0x5b5d39},'feature_limits':{'databases':0x2,'backups':0x2,'allocations':0x1},'deploy':{'locations':[_0x230d62],'dedicated_ip':![],'port_range':[]},'allocation':_0x27383c})}),_0xb76088=await _0xc2696a['json']();if(_0xb76088['errors'])return _0x55bf30[_0x1dd5c4(0x11d)](0x190)[_0x1dd5c4(0x11c)]({'error':_0x1dd5c4(0x13c),'detail':_0xb76088[_0x1dd5c4(0x11f)][0x0]});const _0x31cbcd=_0x5d6452[_0x1dd5c4(0x12d)](_0x1dd5c4(0x136));let _0x5d980f=[];if(_0x331fcb[_0x1dd5c4(0x12e)](_0x31cbcd)){const _0x443db3=_0x331fcb[_0x1dd5c4(0x132)](_0x31cbcd,_0x1dd5c4(0x11e));_0x5d980f=JSON['parse'](_0x443db3);}_0x5d980f[_0x1dd5c4(0x122)]({'owner':_0x3da269,'username':_0x347e5c,'password':_0xea2684,'ram':_0x1181da,'cpu':_0x5b5d39,'panel':_0x5cb43e}),_0x331fcb[_0x1dd5c4(0x116)](_0x31cbcd,JSON[_0x1dd5c4(0x126)](_0x5d980f,null,0x2)),_0x55bf30[_0x1dd5c4(0x11d)](0xc8)[_0x1dd5c4(0x11c)]({'success':!![],'username':_0x347e5c,'password':_0xea2684,'ram':_0x1181da,'cpu':_0x5b5d39,'disk':_0x2a4ed1,'panel':_0x5cb43e});}catch(_0x1be0d5){_0x55bf30[_0x1dd5c4(0x11d)](0x1f4)['json']({'error':_0x1dd5c4(0x13f),'detail':_0x1be0d5[_0x1dd5c4(0x10c)]});}}
